(()=>{var e,t,n={456:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,n,r,u,l=(r=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(u){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=l.call(this)).currentX=300,t.currentY=950,t.curentPos=[t.currentX,t.currentY],t.velocity=60,t.currentSpeed=1,t.track=e,t.trackCollision=!1,t.withinBounds=!0,t.calcNextPos=t.calcNextPos.bind(a(t)),t}return t=h,(n=[{key:"detectTrack",value:function(){var e;e=this.currentX<1250&&this.currentY<=950&&this.currentY>=880?this.findDistance(this.currentX,this.currentY,this.currentX,875):this.currentY>950&&this.currentY<=1e3?this.findDistance(this.currentX,this.currentY,this.currentX,990):this.currentX>=1400&&this.currentY>=725?this.findDistance(this.currentX,this.currentY,1400,this.currentY):100,this.trackCollision=e<50,this.withinBounds=e>=50}},{key:"vehicleHit",value:function(e,t){switch(!this.trackCollision||360!==e&&0!==e?this.trackCollision&&180===e?e=360:this.trackCollision&&270===e&&(e=90):e=180,e){case 270:this.calcNextPos([this.currentX+t*this.velocity,this.currentY],t,"right");break;case 90:this.calcNextPos([this.currentX-t*this.velocity,this.currentY],t,"left");break;case 180:this.calcNextPos([this.currentX,this.currentY+t*this.velocity],t,"down");break;case 360:case 0:this.calcNextPos([this.currentX,this.currentY-t*this.velocity],t,"up")}}},{key:"calcNextPos",value:function(e,t,n){var r=this,i=0,o=setInterval((function(){i>2&&(clearInterval(o),i=0,r.currentX=r.currentX),r.currentX>=1425&&(t-=t+1),r.currentX<=50&&(t-=2*t+1),e[0]>=r.currentX&&"right"===n&&(r.currentX+=t),e[0]<r.currentX&&"left"===n&&(r.currentX-=t),e[1]>r.currentY&&"down"===n&&(r.currentY+=t),e[1]<r.currentY&&"up"===n&&(r.currentY-=t),i++}),60)}},{key:"draw",value:function(e){var t=this;this.detectTrack(),e.save(),this.ball=new Image,this.ball.onload=function(){e.drawImage(t.ball,t.currentX,t.currentY,-t.ball.width/10,-t.ball.height/10)},this.ball.src="/public/images/soccer_ball.png",e.restore()}}])&&i(t.prototype,n),h}(n(958));e.exports=u},286:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.count=1,this.ball1=[350,500],this.ball2=[1375,950],this.ball3=[30,740],this.ball4=[1375,650],this.ball5=[1375,325]}var n,r;return n=e,(r=[{key:"incrementCount",value:function(){this.count>=5?this.count=1:this.count++}},{key:"draw",value:function(e){var t=this;e.save(),this.incrementCount(),this.orb=new Image,this.orb.onload=function(){e.drawImage(t.orb,350,550,25,25),e.drawImage(t.orb,1375,950,25,25),e.drawImage(t.orb,30,740,25,25),e.drawImage(t.orb,1375,650,25,25),e.drawImage(t.orb,1375,325,25,25)},this.orb.src="/public/images/orbs/".concat(this.count,".png"),e.restore()}}])&&t(n.prototype,r),e}();e.exports=n},400:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(650),o=n(456),c=n(704),a=n(90),s=n(748),u=n(286),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.walls=new a,this.track=new c,this.ball=new o(this.track),this.vehicle=new i(this.ball),this.goal=new s,this.orb=new u}var t,n;return t=e,(n=[{key:"loadResources",value:function(e){this.vehicle.draw(e),this.ball.draw(e)}},{key:"loadStatic",value:function(e){var t=this;this.walls.draw(e),this.track.draw(e),this.goal.draw(e),setInterval((function(){return t.orb.draw(e)}),80)}}])&&r(t.prototype,n),e}();e.exports=l},590:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.vehicle=this.game.vehicle,this.ctx=n,this.bgCtx=r,this.stCtx=i,this.animate=this.animate.bind(this)}var n,r;return n=e,(r=[{key:"setEventListeners",value:function(){var e=this;document.addEventListener("keydown",(function(t){"e"===t.key&&e.vehicle.rotateRight(),"q"===t.key&&e.vehicle.rotateLeft(),"w"===t.key&&e.vehicle.moveForward(t),"Space"===t.code&&e.vehicle.reduceSpeed(t)})),document.addEventListener("keyup",(function(t){"w"===t.key&&e.vehicle.reduceSpeed(t)}))}},{key:"start",value:function(){document.getElementById("song").volume=.1,this.game.loadStatic(this.stCtx),this.setEventListeners(),requestAnimationFrame(this.animate),document.querySelector(".start-btn").classList.add("hidden")}},{key:"animate",value:function(){this.game.loadResources(this.ctx),requestAnimationFrame(this.animate)}}])&&t(n.prototype,r),e}();e.exports=n},748:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,(r=[{key:"draw",value:function(e){var t=this;this.goal=new Image,this.goal.onload=function(){e.drawImage(t.goal,600,0,200,100)},this.goal.src="/public/images/goal.png"}}])&&t(n.prototype,r),e}();e.exports=n},958:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,(r=[{key:"findDistance",value:function(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}}])&&t(n.prototype,r),e}();e.exports=n},704:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,(r=[{key:"draw",value:function(e){e.beginPath(),e.moveTo(0,875),e.lineTo(1250,875),e.lineTo(1250,825),e.lineTo(50,825),e.lineTo(50,775),e.lineTo(25,775),e.lineTo(25,625),e.lineTo(1250,625),e.lineTo(1250,525),e.lineTo(400,525),e.lineTo(400,600),e.lineTo(25,600),e.lineTo(25,300),e.lineTo(50,300),e.lineTo(1250,300),e.lineTo(1250,275),e.lineTo(600,275),e.lineTo(600,100),e.lineWidth=12,e.strokeStyle="white",e.stroke(),e.beginPath(),e.moveTo(0,990),e.lineTo(1415,990),e.lineTo(1415,725),e.lineTo(150,725),e.lineTo(150,700),e.lineTo(1415,700),e.lineTo(1415,400),e.lineTo(150,400),e.lineTo(150,375),e.lineTo(1415,375),e.lineTo(1415,200),e.lineTo(800,200),e.lineTo(800,100),e.lineWidth=12,e.strokeStyle="white",e.stroke()}}])&&t(n.prototype,r),e}();e.exports=n},650:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,r,s,u=(r=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(r);if(s){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=u.call(this,e)).ball=e,t.directions=[0,30,60,90,120,150,180,210,240,270,300,330],t.currentDir=270,t.currentAngle=t.currentDir,t.minAngle=0,t.maxAngle=360,t.currentX=75,t.currentY=950,t.speed=0,t.currentSpeed=0,t.maxSpeed=5,t.ballDistance=0,t}return t=l,(n=[{key:"rotateLeft",value:function(){this.currentAngle<this.maxAngle&&this.currentAngle>=this.minAngle?this.currentAngle+=30:360===this.currentAngle&&(this.currentAngle=0),this.directions.includes(this.currentAngle)&&(this.currentDir=this.currentAngle)}},{key:"detectBall",value:function(){this.ballDistance=this.findDistance(this.currentX,this.currentY,this.ball.currentX,this.ball.currentY),this.ballDistance<=55&&this.ball.vehicleHit(this.currentDir,this.currentSpeed)}},{key:"rotateRight",value:function(){this.currentAngle<=this.maxAngle&&this.currentAngle>this.minAngle?this.currentAngle-=30:0===this.currentAngle&&(this.currentAngle=330),this.directions.includes(this.currentAngle)&&(this.currentDir=this.currentAngle)}},{key:"moveForward",value:function(e){this.maxSpeed>this.speed&&"keydown"===e.type&&(this.speed+=.2),this.currentSpeed=Math.floor(this.speed)}},{key:"reduceSpeed",value:function(e){"Space"===e.code&&this.speed>=.4?this.speed-=.4:"w"===e.key&&this.speed>0&&(this.speed-=this.speed/2),this.currentSpeed=Math.floor(this.speed)}},{key:"calcNextPos",value:function(){switch(this.currentX<=0&&(this.currentDir=270),this.currentX>=1450&&(this.currentDir=90),this.currentY>=1e3&&(this.currentDir=0),this.currentDir){case 270:this.currentX+=this.currentSpeed;break;case 360:case 0:this.currentY-=this.currentSpeed;break;case 90:this.currentX-=this.currentSpeed;break;case 180:this.currentY+=this.currentSpeed;break;case 240:case 210:this.currentX+=this.currentSpeed,this.currentY+=this.currentSpeed/2;break;case 300:case 330:this.currentX+=this.currentSpeed,this.currentY-=this.currentSpeed/2;break;case 150:case 120:this.currentX-=this.currentSpeed,this.currentY+=this.currentSpeed/2;break;default:this.currentX-=this.currentSpeed,this.currentY-=this.currentSpeed/2}}},{key:"draw",value:function(e){var t=this;this.calcNextPos(),this.detectBall(),this.currentSpeed=Math.floor(this.speed);var n=Math.cos(Math.PI/180*this.currentDir),r=Math.sin(Math.PI/180*this.currentDir);e.save(),e.rotate(this.currentDir*Math.PI/180),e.translate(n,r),this.vehicle=new Image,this.vehicle.onload=function(){e.clearRect(0,0,1425,1e3),e.drawImage(t.vehicle,t.currentX,t.currentY,-t.vehicle.width/10,-t.vehicle.height/10)},this.vehicle.src="/public/images/car_imgs/".concat(this.currentDir,".png"),e.restore()}}])&&i(t.prototype,n),l}(n(958));e.exports=s},90:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=0,this.y=500}var n,r;return n=e,(r=[{key:"draw",value:function(e){var t=this;this.stone=new Image,this.stone.onload=function(){for(var n=0;n<10;n++)e.drawImage(t.stone,t.x,500,100,100),t.x+=75}}}])&&t(n.prototype,r),e}();e.exports=n}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,i),o.exports}e=i(400),t=i(590),document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("game-canvas"),r=document.getElementById("bg-canvas"),i=document.getElementById("static-canvas"),o=n.getContext("2d"),c=r.getContext("2d"),a=i.getContext("2d"),s=new e;new t(s,o,c,a).start()}))})();
//# sourceMappingURL=bundle.js.map